!function(e,t){window.q2o=function(e,t){function n(e){return decodeURIComponent(e)}function o(e){return void 0!==e}function r(e){return"string"==typeof e}function i(e){if(r(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(function(e){return!(!r(e)||""===e.trim())&&('""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1))}(e))try{return JSON.parse(e)}catch(e){}}return e}var c={},l=e.replace(/^.*?\?/,"");return""===l?c:(l.split(/&(?:amp;)?/).forEach(function(e){var r=e.split("="),l=n(r[0]),a=!o(r[1])||n(r[1]);a=!o(t)||t?i(a):a,"]"===l.slice(-1)?function(e,t,n){for(var o,r=t.split("["),i=0,c=r.length;c-1>i;++i)e=e[o=r[i].replace(/\]$/,"")]||(e[o]={});e[r[i].replace(/\]$/,"")]=n}(c,l,a):c[l]=a}),c)}}(),function(e,t){window.o2q=function(e,t,n,o){function r(e){return encodeURIComponent(e)}function i(e){return void 0!==e}function c(e){return null!==e&&"object"==typeof e}function l(e){return!0===e?"true":!1===e?"false":null===e?"null":c(e)?JSON.stringify(e):e+""}function a(e,t){for(var n in t=t||{},e)i(t[n])?c(e[n])&&c(t[n])&&(t[n]=a(e[n],t[n])):t[n]=e[n];return t}var s,u,f=[],p=function e(t,n,o,i){o=o||0;var l,s,u,f=[],p=n?"%5D":"";for(l in t)s=r(l),c(u=t[l])&&i>o?f=a(f,e(u,n+s+p+"%5B",o+1,i)):f[n+s+p]=u;return f}(e,"",0,n=n||1);for(s in p)(!1!==(u=p[s])||o)&&(u=!0!==u?"="+r(l(u)):"",f.push(s+u));return f.length?"?"+f.join(t||"&"):""}}(),function(e,t){var n=t.currentScript.src.split("#")[1],o=t.forms[0],r=o.elements,i=o.querySelector("details"),c=r.files.value.split(/\s+/),l={form:{}},a=r.x,s=r.v,u=r["source[from]"],f=t.createElement("input"),p=r["source[to]"];function d(e,t,n){e.addEventListener(t,n,!1)}function h(e){e.style.display="none"}function m(e){e.style.display=""}function v(e){e.style.display="block"}function y(){for(var e,t,n="",o=0,i=r.length;o<i;++o)if(e=r[o].name,t=r[o].value,e){if("checkbox"===r[o].type&&!r[o].checked)continue;"radio"===r[o].type&&(t=r[e].value),n+="&"+encodeURIComponent(e)+(void 0===t?"":"="+encodeURIComponent(t))}l.form=n?q2o(n.slice(1)):{}}function g(t){var o;"#/result"===e.location.hash?t?(o=e[n](u.value,l.form.state||{}),h(u),v(p),p.value=o.value,p.focus(),p.select(),h(s),h(i),v(a)):e.location.hash="#/home":(h(p),m(u),u.focus(),u.select(),h(a),m(i),m(s))}d(e,"hashchange",g),d(e,"beforeunload",function(){y(),l.optionsIsOpen=i.open,l.form&&l.form.state&&l.form.state.source&&l.form.state.source.from&&delete l.form.state.source.from,l.form&&l.form.state&&l.form.state.source&&l.form.state.source.to&&delete l.form.state.source.to,localStorage.setItem("session",o2q(l))}),d(o,"reset",function(t){e.history.back(),t.preventDefault()}),d(o,"submit",function(t){y(),e.location.hash="#/result",t.preventDefault()}),d(u,"dblclick",function(e){f.click()}),d(u,"keydown",function(e){var t=e.ctrlKey,n=e.key,o=e.keyCode;t&&(n&&"o"===n||o&&79===o)&&(f.click(),e.preventDefault()),t&&(n&&"Enter"===n||o&&13===o)&&(s.click(),e.preventDefault())}),d(p,"keydown",function(e){var t=e.ctrlKey,n=e.key,o=e.keyCode;(n&&"Backspace"===n||o&&8===o)&&(a.click(),e.preventDefault()),t&&(n&&"s"===n||o&&83===o)&&alert("TODO: Save text area value as a file...")}),f.type="file",f.multiple="multiple",f.style.cssText="display:block;position:fixed;top:-2px;left:-2px;width:1px;height:1px;margin:0;padding:0;border:0;opacity:0;",d(f,"change",function(){for(var e,t,n,o=this.files,r=0,i=o.length;r<i;++r)if(e=o[r],-1!==c.indexOf(t=e.type)){var l,a=new FileReader;a.readAsText(e),a.onload=function(){n=this.result,l=u.value.length,u.value+=n+"\n\n",u.focus(),u.selectionStart=l,u.selectionEnd=l+n.length}}else t&&alert("MIME type `"+t+"` is not allowed.")}),t.body.appendChild(f),g(0),function(){var e,t=q2o(localStorage.getItem("session")||""),n=o2q(t.form||{}),o={};for(e in(n?n.slice(1).split("&"):[]).forEach(function(e){e=e.split("="),o[decodeURIComponent(e[0])]=void 0!==e[1]||decodeURIComponent(e[1])}),o)r[e]&&("checkbox"===r[e].type?r[e].checked=!!o[e]:"string"==typeof o[e]&&(r[e].value=o[e]));for(var c=0,l=r.length;c<l;++c)o[r[c].name]||"checkbox"!==r[c].type||(r[c].checked=!1);i.open=t.optionsIsOpen}(),-1!==["http:","https:"].indexOf(e.location.protocol)&&"127.0.0.1"!==e.location.hostname&&d(e,"load",function(){!function(e){function t(){e.dataLayer.push(arguments)}e.dataLayer=e.dataLayer||[],t("js",new Date),t("config","UA-132078233-1")}(e);var n=t.createElement("script");n.src="https://www.googletagmanager.com/gtag/js?id=UA-132078233-1",t.body.appendChild(n)})}(this,this.document);
