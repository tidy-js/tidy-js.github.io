!function(e,t){window.q2o=function(e,t){function n(e){return decodeURIComponent(e)}function o(e){return void 0!==e}function i(e){return"string"==typeof e}function c(e){if(i(e)){if("true"===e)return!0;if("false"===e)return!1;if("null"===e)return null;if("'"===e.slice(0,1)&&"'"===e.slice(-1))return e.slice(1,-1);if(/^-?(\d*\.)?\d+$/.test(e))return+e;if(function(e){return!(!i(e)||""===e.trim())&&('""'===e||"[]"===e||"{}"===e||'"'===e[0]&&'"'===e.slice(-1)||"["===e[0]&&"]"===e.slice(-1)||"{"===e[0]&&"}"===e.slice(-1))}(e))try{return JSON.parse(e)}catch(e){}}return e}var r={},l=e.replace(/^.*?\?/,"");return""===l?r:(l.split(/&(?:amp;)?/).forEach(function(e){var i=e.split("="),l=n(i[0]),u=!o(i[1])||n(i[1]);u=!o(t)||t?c(u):u,"]"===l.slice(-1)?function(e,t,n){for(var o,i=t.split("["),c=0,r=i.length;r-1>c;++c)e=e[o=i[c].replace(/\]$/,"")]||(e[o]={});e[i[c].replace(/\]$/,"")]=n}(r,l,u):r[l]=u}),r)}}(),function(e,t){window.o2q=function(e,t,n,o){function i(e){return encodeURIComponent(e)}function c(e){return void 0!==e}function r(e){return null!==e&&"object"==typeof e}function l(e){return!0===e?"true":!1===e?"false":null===e?"null":r(e)?JSON.stringify(e):e+""}function u(e,t){for(var n in t=t||{},e)c(t[n])?r(e[n])&&r(t[n])&&(t[n]=u(e[n],t[n])):t[n]=e[n];return t}var a,s,f=[],p=function e(t,n,o,c){o=o||0;var l,a,s,f=[],p=n?"%5D":"";for(l in t)a=i(l),r(s=t[l])&&c>o?f=u(f,e(s,n+a+p+"%5B",o+1,c)):f[n+a+p]=s;return f}(e,"",0,n=n||1);for(a in p)(!1!==(s=p[a])||o)&&(s=!0!==s?"="+i(l(s)):"",f.push(a+s));return f.length?"?"+f.join(t||"&"):""}}(),function(e,t){var n=t.currentScript.src.split("#")[1],o=t.forms[0],i=o.elements,c=o.querySelector("details"),r=i.files.value.split(/\s+/),l={form:{}},u=i.x,a=i.v,s=i["source[from]"],f=t.createElement("input"),p=i["source[to]"];function d(e,t,n){e.addEventListener(t,n,!1)}function h(e){e.style.display="none"}function v(e){e.removeAttribute("hidden"),e.style.display=""}function y(){for(var e,t,n="",o=0,c=i.length;o<c;++o)if(e=i[o].name,t=i[o].value,e){if(-1!==["source[from]","source[to]"].indexOf(e))continue;if("checkbox"===i[o].type&&!i[o].checked)continue;"radio"===i[o].type&&(t=i[e].value),n+="&"+encodeURIComponent(e)+(t?"="+encodeURIComponent(t):"")}l.form=n?q2o("?"+n.slice(1)):{}}function m(t){var o;"#/result"===e.location.hash?t?(o=e[n](s.value,l.form.state||{}),h(s),p.style.display="block",p.value=o.value,p.focus(),p.select(),h(a),h(c),v(u)):e.location.hash="#/home":(h(p),v(s),s.focus(),s.select(),h(u),v(c),v(a))}d(e,"hashchange",m),d(e,"beforeunload",function(){l.optionsIsOpen=c.open,l.submitIsAuto=i.auto.checked,y(),localStorage.setItem("session",o2q(l))}),d(o,"reset",function(t){e.history.back(),t.preventDefault()}),d(o,"submit",function(t){y(),e.location.hash="#/result",t.preventDefault()}),d(s,"dblclick",function(e){f.click()}),d(s,"keydown",function(e){var t=e.ctrlKey,n=e.key,o=e.keyCode;t&&(n&&"o"===n||o&&79===o)&&(f.click(),e.preventDefault()),t&&(n&&"Enter"===n||o&&13===o)&&(a.click(),e.preventDefault())}),d(s,"paste",function(){i.auto.checked&&a.click()}),d(p,"cut",function(){u.click()}),d(p,"keydown",function(e){var t=e.ctrlKey,n=e.key,o=e.keyCode;(n&&"Backspace"===n||o&&8===o)&&(u.click(),e.preventDefault()),t&&(n&&"s"===n||o&&83===o)&&alert("TODO: Save text area value as a file...")}),f.type="file",f.multiple="multiple",f.style.cssText="display:block;position:fixed;top:-2px;left:-2px;width:1px;height:1px;margin:0;padding:0;border:0;opacity:0;",d(f,"change",function(){for(var e,t,n,o=this.files,c=0,l=o.length;c<l;++c)if(e=o[c],-1!==r.indexOf(t=e.type)){var u,f=new FileReader;f.readAsText(e),f.onload=function(){n=this.result,u=s.value.length,s.value+=n+"\n\n",s.focus(),s.selectionStart=u,s.selectionEnd=u+n.length}}else t&&alert("MIME type `"+t+"` is not allowed.");setTimeout(function(){i.auto.checked&&a.click()},1e3)}),t.body.appendChild(f),m(0),function(){var e,t=q2o(localStorage.getItem("session")||""),n=o2q(t.form||{},!1,5),o={};for(e in(n?n.slice(1).split("&"):[]).forEach(function(e){e=e.split("="),o[decodeURIComponent(e[0])]=void 0===e[1]||decodeURIComponent(e[1])}),o)i[e]&&("checkbox"===i[e].type?i[e].checked=!!o[e]:"string"==typeof o[e]&&(i[e].value=o[e]));for(var r=0,l=i.length;r<l;++r)o[i[r].name]||"checkbox"!==i[r].type||(i[r].checked=!1);c.open=t.optionsIsOpen,i.auto.checked=t.submitIsAuto}(),-1!==["http:","https:"].indexOf(e.location.protocol)&&"127.0.0.1"!==e.location.hostname&&d(e,"load",function(){!function(e){function t(){e.dataLayer.push(arguments)}e.dataLayer=e.dataLayer||[],t("js",new Date),t("config","UA-132078233-1")}(e);var n=t.createElement("script");n.src="https://www.googletagmanager.com/gtag/js?id=UA-132078233-1",t.body.appendChild(n)})}(this,this.document);
